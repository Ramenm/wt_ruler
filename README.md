# [English version](./README_en.md)

# Оверлей для измерения расстояния в War Thunder

Небольшое приложение на Python (использует PyQt5), которое накладывает на экран полупрозрачный оверлей и позволяет **измерять расстояния** (в метрах) в играх или других программах. Основное применение — [War Thunder](https://warthunder.com/). Для определения расстояния между объектами достаточно зажать **правую кнопку мыши (ПКМ)**, не сворачивая игру.

---

## Основные возможности

1. **Быстрое измерение расстояний (в метрах)**  
   Нажмите и удерживайте ПКМ, проведите линию — программа покажет её длину прямо на экране.

2. **Калибровка &laquo;в один клик&raquo;**  
   - При создании первого отрезка (или при нажатии `c`) появляется диалоговое окно: введите реальную длину (в метрах) этого отрезка.  
   - На основе введённого значения приложение вычислит, сколько метров приходится на один пиксель экрана.

3. **Глобальные горячие клавиши**  
   - `=` — включать и выключать режим измерений (ПКМ).  
   - `c` — начать калибровку заново.  
   - `ctrl + shift + q` — выйти из приложения.  
   - `-,=` или кнопка &laquo;Очистка&raquo; — удалить все нарисованные линии.

4. **Прозрачное окно**  
   - **ЛКМ** не перехватывается оверлеем и может использоваться для взаимодействия с игрой.  
   - **ПКМ** при включённом режиме измерений позволяет рисовать линии непосредственно на экране.

5. **Наглядные подсказки**  
   - Показывают длину линии, угол (0° — вверх, 90° — вправо) и полезные сообщения.  
   - Помогают быстро перейти к новой калибровке или очистить уже нарисованные линии.

---

## Установка (Windows)

> **Важно!** Приложение работает только под Windows, так как для глобального перехвата событий мыши используется pyWinhook.

1. **Установите Python 3.7 и выше** (рекомендуется 3.9+).  
2. _(Опционально)_ Создайте и активируйте виртуальное окружение:
   ```bash
   python -m venv venv
   .\venv\Scripts\activate
   ```
3. **Установите необходимые зависимости**:
   ```bash
   pip install -r requirements.txt
   ```

---

## Как пользоваться

### Запуск

1. Запустите скрипт — появится полупрозрачное окно с подсказками.
2. Нажмите `=` для активации режима измерений.

### Калибровка

- При первом проведении линии (или после нажатия `c`) откроется окно, куда нужно ввести реальную длину отрезка (в метрах).  
- Программа на основе этого значения запомнит соответствие &laquo;пиксели → метры&raquo;.

### Измерение

- При удержании **ПКМ** вы создаёте отрезок на экране.  
- После отпускания ПКМ будет показана длина отрезка и угол относительно вертикали.

### Выключение измерений

- Нажмите `=` ещё раз, чтобы вернуться к обычному управлению в игре.

### Очистка

- Нажмите `-,=` или кнопку &laquo;Очистка&raquo; в оверлее, чтобы удалить все нарисованные линии.

### Новая калибровка

- Нажмите `c` и нарисуйте новый отрезок — снова откроется диалоговое окно для ввода точного расстояния.

### Закрытие оверлея

- Используйте `ctrl + shift + q`, чтобы полностью закрыть приложение.
